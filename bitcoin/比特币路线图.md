*注：作者是openbazaar的开发者，开发了Bitcoin Cash Wallet，这里描述的路线图是作者从邮件组和Slack中总结的，并不是官方给出的路线图*
比特币现金从*Bitcoin Core*中分裂出来已经一个月了，按照任何合理的标准来看，比特币现金都应该被定义为是成功的。在刚分裂的时候比特币现金存在着巨大的不确定性。有人会支持新的分叉吗？有交易所交易吗？它能在最初的难度调整中存活下来吗？会有矿工在上面挖矿吗？所有这些问题的答案最终都是肯定的。尽管比特币社区内的一些大嗓门已经做出过预测:[Bitcoin Cash的价格不会超过1美元](https://youtu.be/QrvFD3CuOeU?t=488)，但目前它的交易价格约为622美元，市值为100亿美元，这让比特币现金成为第三大最受欢迎的加密货币。

那么，Bitcoin Cash未来将走向何处？我本人并没有参与Bitcoin Cash ,尽管我确实开发了[Bitcoin Cash wallet](https://github.com/cpacia/BitcoinCash-Wallet),但是我一直在密切关注Bitcoin Cash 的发展,并就它的长期发展路线达成了一致意见。我不得不说，虽然路线图可能比Bitcoin Core的风险更大，但如果成功的话，Bitcoin Cash肯定是更有野心的，也更有能力实现有意义的扩容。

在我们深入探讨之前，我们先看下Bitcoin Core的路线图，这样我们就有一些东西比较了。现在SegWit已经激活，剩下的还有那些呢？最大的部分是Schnorr签名和[MAST](https://github.com/bitcoin/bips/blob/master/bip-0114.mediawiki),尽量这两种技术都能改善现状，但它们都不会带来任何有意义的额外扩容能力。他们带来的扩容能力取决于使用他们的方式，但你可能会看到15-25的扩容范围-这可能只会减少几便士的费用，如果有的话。除此之外，Core即使在赌注押在了闪电网络上，希望它能达到他们宣传的目的。时间会告诉我们答案的。

即使它是成功的，闪电网络仍然需要大量的线上扩容能力，如果它会被广泛使用的话。

一下是我在Bitcoin Cash的路线图上面的一些认识。因为目前还没有正式的路线图（到目前为止），只是在邮件列表和slack中出现的一些想法，而这些想法似乎有了一个粗略的高层共识（实现细节引发了更多的争论）。

## 新的难度调整算法

山寨币社区非常熟悉当一种币在争夺算力时发生的事情-当矿工们转向最赚钱的币和不规则的出块时间时，难度的波动就会发生。比特币发展至今并没有遇到过这种情况，因为它是唯一一种是double SHA256挖矿算法的加密货币。如今，Bitcoin Cash的出现已经让事情发生了变化。中本聪设计的难度调整算法非常简单，不适合多个多个币种争夺相同的算力，现在Bitcoin Cash和比特币都因为难度调整收到了影响，Bitcoin Cash影响更多一些。

所以改变算法是有意义的。幸运的是，多年来关于这个问题的研究已经有了很多，所以这只是一个采用最佳解决方案的问题。最后的结果是，Bitcoin Cash将会有一种新的难度调整算法，可以防止区块时间的剧烈波动。另一方面，比特币的难度将会继续和矿工的盈利能力做出相应的变化。

## 修复交易延展性的正确方式
人们对于隔离验证（SW）的主要抱怨与它想要达到的目的无关-修复交易延展性,而是它是如何实现的。有人告诉我们，维护者一个数百亿美元的协议的比特币社区需要接受这样一种笨拙而丑陋的极客行为的原因是，以另外的实方式来做这件事需要冒着比特币被分裂的风险。具有讽刺意味的是，正式这种极客行为最终成为了Bitcoin Cash 分裂的主要驱动力。Bitcoin Cash可能是分叉的最好时候，因为它现在可以用正确的方式来修复交易延展性问题，无论如何通过最小的延展性修复，交易格式基本上没有改变，或者通过改变交易格式来进行扩展，这还是待定的。

无论在哪种情况下，这种变化都不太可能在短期内成为优先考虑的问题。对于每个人来说，一个修复交易延展性的主要用例是：闪电网络，现在还没有准备好，这一点应该是显而易见的。即使它最终准备好了，技术成功还需要时间。还需要更多的时间来或者消费者的认可，如果能做得的话。这可能要花几年的时间才能实现。如果Bitcoin Cash 需要12到18个月才能修复交易延展性，我怀疑会错过一些东西。

## 并行交易验证/新的merkle树

现在，一个块中的每个交易都必须按照顺序进行验证，因为有可能后面的交易依赖于之前的交易。这就阻止了验证交易的并行执行，增加了验证块的时间和创建可伸缩瓶颈的时间。通过[并行验证](https://lists.linuxfoundation.org/pipermail/bitcoin-ml/2017-August/000137.html) ,一个任务可以跨多个CPU或者使用多个机器来加速验证时间。由于排序不再重要，因此可以重新定义merkle树，以允许进行验证或者进行分片验证。

## UTXO证明
将UTXO的根节点设置为块将改善客户端安全性，支持快速同步模式，并为未来的分片进行铺路。到目前为止，还不清楚是否有足够有效的方法的来实现这一点，而这本身还不会成为可伸缩性的瓶颈。以太坊使用Patricia 树来做这件事，所有至少有了一些先例，但需要做更多的研究：关于如何更好地做这件事。

除了Patricia 树之外，Bitcoin Cash 还能从核心开发者Pieter Wuille提出的[ECMH(椭圆曲线多三列集)](https://lists.linuxfoundation.org/pipermail/bitcoin-dev/2017-May/014337.html)中收益。它不支持我们想要创建的证明，但是它非常高效，并且很可能足以高效地对UTXO进行快速同步检查。这甚至可以在不向block提交任何内容的情况下完成，并且可以在更好的情况下进行替换。这将允许新的节点在5分钟内完全启动，而不是几天，所有所有的节点删除超过6个月或1年以上的交易数据。

## Bitcoin-ng/Weak blocks

Bitcoin-ng和Weak blocks是两种解决某些扩容问题的不同方案，第一种方式和大区块相关，以牺牲较小的矿工为代价，大矿工会收益，这可能会造成挖矿集中的问题。第二种需要一直验证块，而不是一段时间之后验证。与Weak blocks相比，Bitcoin-ng更深入地解决了这些问题，但这对于共识层和从未在生成环境中运行的规则来说是一个巨大的变化。Weak blocks仅仅是通信协议的一个附加物，并且不涉及到一致的规则，因此是更加的保守。

如果让我投票的话，我现在可能会赞同Weak blocks，先看看它是如何工作的，然后在未来再考虑Bitcoin-ng。

Bitcoin-ng和Weak blocks 都将有助于提高零确认的安全性（尽管它仍然完美）。Bitcoin-ng更是如此，因为它改变了交易的确认和挖矿。Weak blocks不是共识规则，仍然允许double spend ,但是它会给一份在网络上发生的double spend的记录。商家可以使用blockchain的数据计算出已经弱确认的但是还没有进入块的概率（可能很低）再采用适当的风险管理。

## 分片
可扩展的区块链并不是说要有全有的交易集合或者是半集中的2层网络，而是不再需要所有的节点下载和验证所有的交易。上面提到的两个变化，重组Merkle 树和UTXO证明，可能会引入一个新的部分验证操作模式。如果用户希望（一个验证所有分片的节点）仍然课余运行一个完整的验证节点，但他们可以选择告诉它只下载和验证一些较小的分片，并且仍然具有与完整节点相同的安全性。从理论上说，如果所有节点（包括矿工）正在运行部分验证节点，网络仍让能够运行。如果他能够工作，那么基本上可以得到链上的无限扩容，而不会导致中心化。

分片还在研究，所以它在路线图上，但它仍然是一个有意义的努力。以太坊有自己的分片路线图，所以希望我们能看到它是如何工作的，学习他们是如何做到的。

就这样，就像我说的，这是相当的雄心勃勃的。这将需要几次硬分叉来实现这个路线图，使用硬分叉的好处就是不用再囿于向后兼容性要求，可以摆脱束缚。有些东西可能还无法实现，但至少Bitcoin Cash 拒绝了这样一种观念：加密货币只不是一种企业结算系统。加密货币可以使用电子现金的形式继续向前推进。





